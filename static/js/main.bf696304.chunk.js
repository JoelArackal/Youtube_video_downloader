(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{20:function(e,t,a){e.exports=a(29)},25:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),l=a.n(s),o=(a(25),a(3)),c=a(6),i=a(7),m=a(11),u=a(8),p=a(9),d=(a(26),a(5)),h=a(2),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"sidebar"},r.a.createElement(d.b,{className:"side-link ",to:"/home"},r.a.createElement("div",{className:"side-comp"},r.a.createElement("div",{className:"side-icon"},r.a.createElement("i",{class:"fa fa-home","aria-hidden":"true"})),r.a.createElement("div",{className:"side-text"}," Home "))),this.props.user?r.a.createElement(d.b,{className:"side-link",to:"/profile/".concat(this.props.user.username)},r.a.createElement("div",{className:"side-comp"},r.a.createElement("div",{className:"side-icon sd"},r.a.createElement("i",{class:"fa fa-user","aria-hidden":"true"})),r.a.createElement("div",{className:"side-text"}," Profile "))):r.a.createElement("div",null),r.a.createElement(d.b,{className:"side-link",to:"/messages"},r.a.createElement("div",{className:"side-comp"},r.a.createElement("div",{className:"side-icon sd"},r.a.createElement("i",{class:"fa fa-envelope","aria-hidden":"true"})),r.a.createElement("div",{className:"side-text"}," Messages "))),r.a.createElement(d.b,{className:"side-link",to:"/addpost"},r.a.createElement("div",{className:"side-comp"},r.a.createElement("div",{className:"side-icon sd"},r.a.createElement("i",{class:"fas fa-plus-circle","aria-hidden":"true"})),r.a.createElement("div",{className:"side-text"}," Add Post ")))))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card postcard"},r.a.createElement("div",{className:"post-header"},r.a.createElement(d.b,{to:"/profile/".concat(this.props.post.author.username)}," ",r.a.createElement("img",{src:this.props.url+this.props.post.author.profileinfo.profile_pic,className:"profilepic"}))," ",r.a.createElement("div",{className:"post-author-info"},r.a.createElement(d.b,{className:"post-user-link",to:"/profile/".concat(this.props.post.author.username)},r.a.createElement("span",{className:"post-user"},this.props.post.author.username)," "),r.a.createElement("span",{className:"post-location"},this.props.post.location))),this.props.post.pImage?r.a.createElement("img",{src:this.props.url+this.props.post.pImage,className:"post-img",alt:""}):r.a.createElement("span",null),r.a.createElement("div",{className:"post-caption"},r.a.createElement("span",{className:"post-user"},this.props.post.author.username,": "),"  ",r.a.createElement("pre",null,this.props.post.content)),r.a.createElement("i",{class:"fa fa-thumbs-up","aria-hidden":"true"}))}}]),a}(n.Component),v=(a(28),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={fetchdata:!1},n.fetchposts(),n}return Object(i.a)(a,[{key:"fetchposts",value:function(){var e=this,t=this.props.url+"/post";console.log(t),fetch(t,{method:"GET",headers:{Authorization:"Token "+this.props.token}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({posts:t,fetchdata:!0})}))}},{key:"renderview",value:function(){var e=this;if(this.state.fetchdata){var t=this.state.posts.map((function(t){return r.a.createElement("div",null,r.a.createElement(f,{url:e.props.url,post:t,token:e.props.url}))}));return r.a.createElement("div",{className:"posts"},t)}return r.a.createElement("div",null)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"home"},r.a.createElement("h3",null,"Home"),r.a.createElement("hr",null),r.a.createElement("div",{className:"posts-wrapper"},this.renderview())))}}]),a}(n.Component)),b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={posted:!1},n.handleaddpost=n.handleaddpost.bind(Object(m.a)(n)),n}return Object(i.a)(a,[{key:"handleaddpost",value:function(e){var t=this;e.preventDefault(),console.log("Added"),console.log(this.props.url);var a=this.props.url+"/post",n=new FormData;n.append("content",e.target.caption.value),n.append("location",e.target.loc.value),n.append("image",e.target.image.files[0]);e.target.caption.value,e.target.loc.value,e.target.image.files[0];fetch(a,{method:"POST",headers:{Authorization:"Token "+this.props.token},body:n}).then((function(e){console.log(e),t.setState({posted:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container addpost-wrapper"},this.state.posted?r.a.createElement("div",null," "):r.a.createElement("div",null,r.a.createElement("h3",null,"Add Post"),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("form",{id:"form1",method:"POST",enctype:"multipart/form-data",onSubmit:this.handleaddpost},r.a.createElement("textarea",{name:"caption",id:"caption",className:"postcaption",placeholder:"What's on your mind?...",required:!0})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"image",accept:"image/*",id:"image"})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"loc",className:"postloc",placeholder:"Add Location"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-primary addpost-submit",value:"Post"})))," "))}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={user:null},n.fetchuserdata(),n}return Object(i.a)(a,[{key:"fetchuserdata",value:function(){var e=this,t=this.props.url+"/uprofile/"+this.props.userprof;fetch(t,{method:"GET",headers:{Authorization:"Token "+this.props.token}}).then((function(t){return t.json().then((function(t){console.log(t),e.setState({user:t})}))}))}},{key:"render",value:function(){return this.state.user?(this.state.user.username!=this.props.userprof&&this.fetchuserdata(),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profilewrapper"},r.a.createElement("img",{className:"profileimage",src:this.props.url+this.state.user.profileinfo.profile_pic}),r.a.createElement("br",null),r.a.createElement("h4",{className:"profile-username"},this.state.user.username)))):r.a.createElement("div",null)}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(E,{user:this.props.user}),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/profile/:username",component:function(t){var a=t.match;return console.log(a.params.username),r.a.createElement(g,{userprof:a.params.username,token:e.props.token,url:e.props.url})}}),r.a.createElement(h.a,{exact:!0,path:"/home",component:function(){return r.a.createElement(v,{token:e.props.token,url:e.props.url})}}),r.a.createElement(h.a,{exact:!0,path:"/addpost",component:function(){return r.a.createElement(b,{token:e.props.token,url:e.props.url})}})))))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={token:""},n.handleForm=n.handleForm.bind(Object(m.a)(n)),n}return Object(i.a)(a,[{key:"handleForm",value:function(e){var t=this;e.preventDefault();var a=this.props.url+"/api-token-auth/",n={username:e.target.username.value,password:e.target.password.value};fetch(a,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).catch((function(e){console.log("Error ")})).then((function(e){return e.json()})).then((function(e){null!=e.token?(t.setState({token:e.token}),localStorage.setItem("login",!0),localStorage.setItem("token",t.state.token),t.setState({error:""}),t.props.handlelog(t.state)):(console.log(e),t.setState({error:"*Invalid Credentials"}))})).then((function(){console.log(t.state.token)})),localStorage.setItem("user",e.target.username.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"login-title"},"Login"),r.a.createElement("div",{className:"signup-btn-w"},r.a.createElement(d.b,{className:"side-link",to:"/signup"},"SignUp",r.a.createElement("i",{class:"fa fa-user-plus signuplink","aria-hidden":"true"}))),r.a.createElement("div",{className:"login-wrapper"},r.a.createElement("div",{className:"logbox"},r.a.createElement("span",{className:"logerror"},this.state.error),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleForm},r.a.createElement("input",{type:"text",name:"username",className:"inp",placeholder:"username"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",className:"inp",placeholder:"password"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-primary loginbtn btn-large"},"LogIn ")))))}}]),a}(n.Component);var j=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),s=a[0],l=a[1],c=Object(h.m)();return new URLSearchParams(window.location.search).get("q"),r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark "},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("span",{className:"brand"},"YTZ")," "),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({pathname:"/search",search:Object(d.c)({q:s}).toString()})}},r.a.createElement("input",{type:"text",onChange:function(e){l(e.target.value)},id:"search"}),r.a.createElement("input",{type:"submit",value:"search"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"}))))},O=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={errors:[],success:!1},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Submitted");var a=this.props.url+"/register";if(e.target.password1.value!=e.target.password2.value||e.target.password1.value.length<8)this.setState({errors:["Passwords doesnot match or length is less than 8"]});else{this.setState({errors:[]});var n={first_name:e.target.firstname.value,last_name:e.target.lastname.value,username:e.target.username.value,email:e.target.email.value,password:e.target.password1.value};fetch(a,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).catch((function(e){console.log("Error ")})).then((function(e){return e.json()})).then((function(e){e.errors?t.setState({errors:e.errors}):e.success&&t.setState({success:!0})}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement("h1",null,"SignUp"),r.a.createElement("br",null),this.state.errors.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",{className:"errors"},"*",e))})),this.state.success?r.a.createElement("div",null,r.a.createElement("h3",null,"Your account has been successfully created"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.b,{className:"side-link",to:"/login"},"Login",r.a.createElement("i",{class:"fa fa-user-plus signuplink","aria-hidden":"true"}))):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{for:"inputEmail4"},"First Name"),r.a.createElement("input",{type:"text",name:"firstname",className:"form-control",id:"inputEmail4",required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{for:"inputPassword4"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastname",className:"form-control",id:"inputPassword4",required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"inputAddress"},"Username"),r.a.createElement("input",{type:"text",name:"username",className:"form-control",id:"inputAddress",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"inputAddress2"},"Email Address"),r.a.createElement("input",{type:"email",className:"form-control",id:"inputAddress2",name:"email",required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{for:"inputEmail4"},"Password"),r.a.createElement("input",{type:"password",name:"password1",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{for:"inputPassword4"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"password2",className:"form-control",required:!0}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign Up"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"login-text"},"Already have an account?",r.a.createElement(d.b,{className:"side-link",to:"/login"},"Login",r.a.createElement("i",{class:"fa fa-user-plus signuplink","aria-hidden":"true"}))))))}}]),a}(n.Component);n.Component;function y(){var e=new URLSearchParams(window.location.search).get("q"),t=Object(n.useState)(e),a=Object(o.a)(t,2),s=a[0],l=(a[1],Object(n.useState)([])),c=Object(o.a)(l,2),i=c[0],m=c[1];Object(n.useEffect)((function(){console.log(e);var t="https://youtube.googleapis.com/youtube/v3/search?part=snippet&q=".concat(e,"&key=AIzaSyDggO-UNEQMNpdinDixaawokU68Lc4Ca5M&maxResults=20&type=video");fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),m(e.items)}))}),[new URLSearchParams(window.location.search).get("q")]),console.log("Search");Object(h.j)();return r.a.createElement("div",{className:"container container2"},s?r.a.createElement("h2",null,'Search Results for "',s,'"'):r.a.createElement("div",null),r.a.createElement("br",null),i.map((function(e){return r.a.createElement("div",null,r.a.createElement("h5",null,e.snippet.title),r.a.createElement("img",{width:"200",src:e.snippet.thumbnails.medium.url}),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/video?url=https://www.youtube.com/watch?v=".concat(e.id.videoId)}," Link"),r.a.createElement("hr",null))})))}function k(e){var t=new URLSearchParams(window.location.search).get("url"),a=Object(n.useState)(t),s=Object(o.a)(a,2),l=(s[0],s[1],Object(n.useState)()),c=Object(o.a)(l,2),i=c[0],m=c[1];return Object(n.useEffect)((function(){var a="".concat(e.host_url,"/api/video/?url=").concat(t);fetch(a).then((function(e){return e.json()})).then((function(e){console.log(e),m(e)}))}),[]),r.a.createElement("div",{className:"container container2"},i?r.a.createElement("div",null,r.a.createElement("h4",null,i.title),r.a.createElement("video",{width:"320",controls:!0},r.a.createElement("source",{src:i.url,type:"video/mp4"}),r.a.createElement("source",{src:"movie.ogg",type:"video/ogg"}),"Your browser does not support the video tag."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,"Audio:"),r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:i.audio,type:"audio/ogg"}),r.a.createElement("source",{src:"horse.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element.")):r.a.createElement("div",null))}var S=function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/search",element:r.a.createElement(y,null)}," "),r.a.createElement(h.a,{path:"/video",element:r.a.createElement(k,{host_url:"https://ytzdownloader.herokuapp.com"})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.bf696304.chunk.js.map